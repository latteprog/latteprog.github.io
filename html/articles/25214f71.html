<html>
	<head>
		<meta charset="UTF-8">

		<style>
			br
			{
				line-height: 340%;
			}

			div
			{
				line-height: 170%;
			}

			a
			{
				color: #C62818;
				text-decoration: none;
			}

			center
			{
				color: #C62818;
			}
		</style>

		<script type="text/javascript" src="/js/jquery.min.js"></script>
	</head>

	<body>
		<div style="font-family: CSChatThai; font-size: 28px; line-height: 150%; color: #C62818; float: left;"><b>Minesweeper Bot Pt. 1</b>&#09;<font face="CSChatThai" size="4" color="#999999">-&#09;04.06.2016</font></div>
			
		<div style="font-family: CSChatThai; font-size: 18px; line-height: 170%; text-align: justify; color: #000000; clear: both;">
		สวัสดีครับ โพสนี้ผมจะมาเขียนเล่าอีกแนวนึง ทุกคนคงเคยเล่นหรืออย่างน้อยๆ ก็เคยรู้จักเกม Minesweeper กันมาบ้าง เช่นเดียวกับทุกคน ผมก็เคยเล่นเกมนี้สมัยเด็กๆ แล้วก็เลิกเล่นไปแล้ว ทีนี้วันนึงในห้องเรียน ตอนที่มีเวลาว่างและนั่งหน้าคอมอยู่ เพื่อนผมก็เปิดเกมนี้ขึ้นมาเล่น ทำให้ผมนึกไปถึงตอนนั้น และเนื่องจากว่าผมกำลังหาอะไรทำอยู่แล้ว เลยคิดว่าจะลองเขียนบอทมาเล่นเกมนี้ดู กลับบ้านมาก็เริ่มโค้ด ตอนนี้ผ่านช่วงแรกมาเลยจะมาเล่าให้ฟังครึ่งทางก่อน<br>
		ในท่อนนี้ผมจะเกริ่นถึงกฏของ Minesweeper ถ้าใครที่เล่นเป็นอยู่แล้วก็ข้ามย่อหน้าต่อไปไปได้เลยนะครับ<br>
		เกมนี้จากเล่นบนกระดานที่เป็นตาราง โดยบางช่องในกระดานจะมีระเบิดซ่อนอยู่ เรารู้ว่าบนกระดานมีระเบิดกี่ลูก แต่จะไม่รู้ว่าระเบิดอยู่ในช่องไหนบ้าง หน้าที่ของเราก็คือการหาระเบิดทั้งหมด โดยการปักธงไว้บนช่องที่มีระเบิด ทีนี้ สิ่งที่เราทำได้คือลองสำรวจช่องหนึ่งบนกระดาน คือถ้าสมมติเราเดาว่าช่องหนึ่งไม่มีระเบิด เราก็ลองสำรวจช่องนั้น ถ้าปรากฎว่าช่องนั้นมีระเบิด เราก็จะแพ้ แต่ถ้าช่องนั้นไม่มีระเบิด เราจะได้รู้ว่ารอบๆ ช่องนั้นมีระเบิดอยู่กี่ลูก ซึ่งเราจะใช้เป็นข้อมูลเพื่อหาระเบิดลูกต่อๆ ไปได้ เพื่อให้เข้าใจกฎมากขึ้น ลองเล่นดูซักสองสามเกมจะช่วยได้มาก (เพิ่มเติม ปกติเวลาจะสำรวจช่องหนึ่งให้คลิกซ้าย และถ้าจะปักธงให้คลิกขวา)<br>
		<center>
			<img src="html/articles/img/25214f71_1.jpg" width="35%"><br style="line-height:170%">กระดานของเกม ตอนที่เกมจบแล้ว สังเกตว่าตัวเลขทุกตัวจะบอกว่ามีระเบิดติดกับช่องนั้นกี่ลูก (ภาพจาก 32lyrics.com)<br>
		</center>
		ในเกมนี้จะมีวิธีเล่นพื้นฐานอยู่แล้ว โดยจะมีสองกรณีที่เราตัดสินได้ง่าย<br>
		&#09;กรณีแรก ถ้าจำนวนช่องที่ติดกับช่องหนึ่งที่เป็นไปได้ว่าจะระเบิดอยู่เท่ากับเลขในช่องนั้น ก็สรุปได้ว่าในทุกช่องมีระเบิดอยู่<br>
		&#09;กรณีที่สอง ถ้าเรารู้ตำแหน่งของระเบิดรอบๆ ช่องหนึ่งครบตามตัวเลขในช่องนั้นแล้ว ก็สามารถสำรวจช่องที่เหลือทั้งหมดเพื่อหาข้อมูลเพิ่มได้<br>
		โปรแกรมแรกที่ผมเขียนขึ้นมาก็ใช้แค่กฎง่ายๆ สองข้อนี้แค่นี้แหละครับ ถ้าอยู่ในกรณีที่ตัดสินใจไม่ได้ ก็สุ่มเลือกช่องที่ยังไม่ถูกสำรวจขึ้นมาซักช่องนึง แล้วลองสำรวจดู ทีนี้จะยังมีอีกอย่างหนึ่งที่เลือกได้คือช่องแรกที่จะลองเปิดเป็นช่องแรก ซึ่งผมก็ทดลองสามวิธีคือเปิดบนมุม บนขอบกระดาน และกลางกระดาน แล้วผมก็ลองรันโปรแกรมผมในสามขนาดกระดาน คือ<br>
		&#09;กระดานเล็ก ขนาด 8 แถว 8 คอลัมน์ มีระเบิด 10 ลูก<br style="line-height: 170%;">
		&#09;กระดานกลาง ขนาด 16 แถว 16 คอลัมน์ มีระเบิด 40 ลูก<br style="line-height: 170%;">
		&#09;กระดานใหญ่ ขนาด 16 แถว 31 คอลัมน์ มีระเบิด 99 ลูก<br>
		ในแต่ละสถานการณ์ ผมลองสร้างกระดานมา 10,000 กระดาน แล้วลองให้โปรแกรมเล่นตามวิธีด้านบน แล้วเก็บข้อมูลว่ามีกี่กระดานที่เล่นแล้วชนะ ก็ได้ผลออกมาว่า<br>
		<center>
			<table width = "70%">
				<tr>
					<td width="34%">

					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						กระดานเล็ก
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						กระดานกลาง
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						กระดานใหญ่
					</td>
				</tr>

				<tr>
					<td width="34%" style="border: 1px solid #C62818;">
						เริ่มที่มุม
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						4,568
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						3,803
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						176
					</td>
				</tr>

				<tr>
					<td width="34%" style="border: 1px solid #C62818;">
						เริ่มที่ขอบ
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						4,517
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						3,760
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						158
					</td>
				</tr>

				<tr>
					<td width="34%" style="border: 1px solid #C62818;">
						เริ่มกลางกระดาน
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						4,272
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						3,523
					</td>

					<td width="22%" style="border: 1px solid #C62818;">
						171
					</td>
				</tr>
			</table>
			<br>
		</center>
		จากการทดลองขั้นแรกแล้ว ผมคิดว่าผลที่ได้ยังไม่ค่อยน่าพอใจ และผมจะลองหาวิธีทำให้โปรแกรมทำงานได้ดีกว่านี้ ส่วนจะทำอย่างไรเดี๋ยวจะมาเล่าให้ฟังในตอนหน้าครับ<br>
		โค้ดในโปรเจ็กต์นี้เขียนในภาษา Python 2 และดาวน์โหลดได้ <a href='html/articles/files/25214f71_1.zip'>ที่นี่</a> ครับ<br>
		ในไฟล์ zip จะมีไฟล์สองไฟล์<br style="line-height: 170%;">
		minesweeper.py - นิยามคลาสของกระดาน Minesweeper และดำเนินการที่เกี่ยวกับเกม<br style="line-height: 170%;">
		minesweeperSolver.py - สร้างกระดานเกมขึ้นมา พยายามเล่น และเก็บสถิติที่ได้<br>
		</div>
	</body>
</html>